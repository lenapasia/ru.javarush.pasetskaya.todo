<!DOCTYPE html>

<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Todo List</title>
    <script src="js/jquery-3.6.0.min.js"></script>
    <script src="js/tasks-actions.js"></script>
    <link rel="stylesheet" href="css/main.css"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous"/>
</head>

<body>

<div class="container text-center">

    <img th:src="@{/images/logo.png}" alt="Javarush" title="Javarush"/>
    <h2>Todo List</h2>

    <table class="table table-bordered">
        <thead class="table-light">
        <tr>
            <th>ID</th>
            <th>Description</th>
            <th>Status</th>
            <th></th>
            <th></th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="task,number : ${tasks}">
            <td th:text="${task.id}"/>
            <td th:text="${task.description}" th:id="'description_' + ${task.id}"/>
            <td th:text="${task.status}" th:id="'status' + ${task.id}"/>
            <td>
                <button type="button" class="btn btn-outline-primary" th:id="'edit_' + ${task.id}"
                        th:onclick="'edit_task(' + ${task.id} + ')'">Edit
                </button>
            </td>
            <td>
                <button type="button" class="btn btn-outline-danger" th:id="'delete_' + ${task.id}"
                        th:onclick="'delete_task(' + ${task.id} + ')'">Delete
                </button>
            </td>
        </tr>
        </tbody>
    </table>

    <h2>
        <a th:each="pageNumber : ${page_numbers}" class='btn btn-warning btn-xs button_page'
           th:href="@{/(page=${pageNumber}, limit=10)}" th:text="${pageNumber}"
           th:classappend="${pageNumber == current_page? 'active_page' : ''}">
            <span class="glyphicon glyphicon-edit"></span>
            Edit
        </a>
    </h2>

    <table class="table table-striped tasks_table">
        <tbody>
        <tr>
            <td colspan="3" class="text_bold">Add new task:</td>
        </tr>
        <tr>
            <td>
                <input id='description_new' type="text" class="form-control" placeholder="description">
            </td>
            <label for='status_new'></label>
            <td>
                <select id='status_new' class="form-select">
                    <option selected value='IN_PROGRESS'>IN_PROGRESS</option>
                    <option value='DONE'>DONE</option>
                    <option value='PAUSED'>PAUSED</option>
                </select>
            </td>
            <td>
                <a class="btn btn-primary btn-xs pull-right" id='save_new' onclick='add_task()'><b>+</b> Save</a>
            </td>
        </tr>
        </tbody>
    </table>


</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>

</body>
</html>